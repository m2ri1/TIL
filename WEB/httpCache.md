## 웹사이트에서의 캐시란

```
컴퓨터에서 특정 데이터나 값을 미리 복사해 놓는 임시 장소
```

> 클라이언트가 웹사이트에 접속하여 요청을 보낼 때, 서버로부터 응답받은 정적 컨텐츠들을 특정 위치에 저장하여, 웹 사이트에 접속 할때마다 서버에 해당 컨텐츠를 매번 요청할 필요를 없앤다

**_Browser Cashes_**

브라우저 또는 HTTP 요청을 하는 클라이언트에 의해 내부 디스크에 캐쉬

**_Proxy Caches_**

브라우저 캐시와 다르게, 클라이언트나 서버가 아닌 네트워크 상에서 동작
큰 회사나 IPS의 방화벽에 주로 사용

**_GateWay Caches_**

서버 앞 단에 설치되어 요청에 대한 캐시 및 효율적인 분배를 통해 가용성, 신뢰성, 성능등을 향상

---

### 캐시를 적용할때의 장점

- 네트워크를 사용하지 않고 같은 요청에 대한 응답을 빠르게 받을 수 있다
- 비싼 네트워크의 사용량을 줄일 수 있다
- 브라우저의 로딩 속도를 빠르게 할 수 있다
- 빠른 사용자 경험을 할 수 있다

> 캐시의 유효 시간이 초과되면, 서버를 통해 데이터를 다시 조회하여 캐시를 갱신한다

> 이때, 네트워크의 다운로드가 다시 발생된다

---

#### 검증헤더, 조건부 요청 헤더란?

```
캐시 만료후에도 서버에서 데이터를 변경하지 않은경우, 클라이언트의 데이터와 서버의 데이터가 같다는 사실을 http 메세지의 헤더를 통해 확인할 수 있게 하여 저장해두었던 캐시를 재사용 할 수 있도록 하는것
```

**검증 헤더 (Validator)**

- ETag `"v1.0", ETag: "asid93jkrh2l"`
- Last-Modified `Wed, 09 Aug 2023 18:43:20 GMT`

**조건부 요청 헤더**

- If-Match, If-None-Match  
  -> ETag 값 사용
- If-Modified-Since, If-Unmodified-Since  
  -> Last-Modified 값 사용

---

## Cache-Control 캐시 지시어(directives)

**Cache-Control: max-age**  
캐시 유효 시간, 초 단위

**Cache-Control: no-cache**  
데이터는 캐시해도 되지만, 항상 원(origin) 서버에 검증하고 사용

**Cache-Control: no-store**  
데이터에 민감한 정보가 있으므로 저장하면 안됨 (메모리에서 사용하고 최대한 빨리 삭제)

---

## 웹사이트에서의 쿠키란

```
사용자가 어떠한 웹사이트를 방문할 경우 사용자의 웹 브라우저를 통해 인터넷 사용자의 컴퓨터나 다른 기기에 설치되는 기록 정보 파일
```

- 파일에 담긴 정보는 사용자가 같은 웹사이트를 방문할 때마다 읽히고 수시로 새로운 정보로 바뀐다는 특징이 있다

- 특정 웹사이트에서 자주 쓰이는 데이터를 서버에서 받아오는 것이 아닌 로컬에 저장하여 쉽게 불러오고 사용하기 위한 수단이다

#### 쿠키의 생성 및 사용 과정

> 1 클라이언트가 정보를 요청한다  
>  2 서버는 쿠키를 생성한다  
> 3 생성한 쿠키를 요청한 정보(HTTP 헤더)와 함께 돌려 보낸다  
> 4 클라이언트는 로컬에 쿠키를 저장한다  
> 5 재방문 시 이미 쿠키가 있는 경우 서버에 쿠키를 전달한다  
> 6 업데이트할 정보가 있다면 서버는 해당 쿠키를 요청한 정보와 함게 돌려 보낸다

_Session Cookie_  
세션 동안만 저장되고 사라지는 쿠키

_Persistent Cookie_  
하드 디스크에 저장되는 쿠키  
(서버에 전송된다)

_Secure Cookie_  
암호화된 쿠키

_HTTP Only Cookie_  
HTTP API 이외의 사이트에서 접근을 제한하는 쿠키

---

## 쿠키와 캐시의 비슷한 점과 차이점

```
캐시와 쿠키는 모두 웹 페이지의 클라이언트 단에서 정보를 저장하기 위해 사용한다는 공통점을 가지고 있다
```

```
캐시는 주로 웹 페이지가 빠르게 보여질 수 있도록 도와주는 역할을 하고, 쿠키는 사용자의 인증을 돕기 위해 주로 사용한다는 차이점이 있다
```

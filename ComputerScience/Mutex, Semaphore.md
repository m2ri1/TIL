## Mutex, Semaphore

동시성 프로그램에 있어서 가장 중요한 것은 **공유자원을 관리**를 하는 것입니다

공유자원이 할당되어있는 공유변수 영역(임계영역)에 여러 프로세스 또는 스레드가 데이터를 공유하며 작업을 수행하는데, 이때 서로 다른 프로세스(스레드)에서한 데이터에 접근하고 연산을 하는 경우 동시참조, 값의 오염 가능성이 생깁니다

> 여러 프로세스가 데이터를 공유하며 수행될 때, **각 프로세스에서 공유 데이터를 접근하는 프로그램 코드 블록**을 *임계영역*이라고 합니다

즉 이러한 Deadlock 문제를 발생시키지 않도록 각각 서로 다른 방식으로 공유자원을 관리하는 방법이 있는데
**뮤텍스**와 **세마포어**가 바로 여러 프로세스, 스레드를 실행하는 환경에서 자원에 대한 접근을 동기화시키고 공유자원을 관리할 수 있도록 하는 메커니즘입니다

각각의 장단점 및 특징에 대해 작성해보겠습니다

- 뮤텍스 란
- 세마포어 란
- 뮤텍스, 세마포어의 차이점

## Mutuex

한 스레드, 프로세스에 의해 소유될 수 있는 Key를 기반으로 한 상호배제 기법입니다

- 공유자원에 하나의 프로세스(스레드)만이 접근할 수 있도록 합니다

Key란, 특정한 공유자원에 접근하기 위해 필수적으로 가지고 있어야 하는 오브젝트를 뜻하며
해당 오브젝트를 가졌을때만 자원에 접근이 가능하기 때문에 Key를 가지지 못한 프로세스(스레드)는 Key를 가지고 작업을 수행중인 이전 프로세스(스레드)의 작업이 끝날 때까지 기다리게 됩니다

이러한 방식을 통해 데드락을 방지하는 것입니다

## Semaphore

어떠한 공유자원에 동시에 접근할 수 있는 프로세스와 수를 값으로 나타내는 상호배제 기법입니다

- 공유자원에 하나가 아닌 한정된 여러 프로세스(스레드)에 접근할 수 있도록 합니다

수를 값으로 나타낸다는 것은, 공유자원에 접근할 수 있는 프로세스(스레드)의 수를 한정하기 위하여 값으로 나타내는 것이고 접근을 하거나 작업을 끝낼때마다 해당 값에 변동을 주는 방식으로 관리됩니다

해당 값을 보고 공유 자원에 접근할 수 있는 프로세스의 최대 허용치만큼 동시에 사용자가 접근할 수 있도록 하고, 이를 통해 데드락을 방지하는 것입니다

## 뮤텍스, 세마포어의 차이점

- 뮤텍스는 동기화 대상의 갯수가 1개이고, 세마포어는 1개 이상입니다
- 세마포어는 뮤텍스가 될 수 있지만, 뮤텍스는 세마포어가 될 수 없습니다
  (최대 허용치가 1인 세마포어 = 뮤텍스)
  > 하지만 서로의 기능을 구현할 수 있는 튜링 동치 입니다
- 뮤텍스는 자원을 소유할 수 있게하는 반면 세마포어는 불가능합니다

뮤텍스와 세마포어 모두 완전한 기법이 아니기에, 이를 더욱 복잡한 매커니즘에 적용시켜 성능을 개선하고 사용할 수 있도록 하는것이 중요합니다

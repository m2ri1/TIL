## Java Persistence API

### ORM 이란?

```
Object-Relational Mapping, 객체(Object)와 DB의 테이블을 Mapping 시켜 테이블을 객체지향적으로 사용하게 해주는 기술
-> 어플리케이션의 객체를 테이블에 자동으로 영속화 해주어 SQL문이 아닌 Method를 통해 DB를 조작할 수 있게한다
```

---

### JPA 란?

Java에서 ORM(Object-Relational Mapping)을 기술 표준으로 사용하는 인터페이스 모음

**특징과 장점**

- 자바어플리케이션에서 데이터베이스를 사용하는 방식을 정의한 인터페이스
- Hibernate, OpenJPA 등이 JPA를 구현함
- JPA는 매핑된 관계를 이용해서 SQL을 생성하고 실행하는데, 개발자가 SQL을 어떻게 실행시킬지 쉽게 예측 할 수 있게 한다
- 개발자가 SQL아닌 객체 중심으로 개발할 수 있게 한다
- 상속, 연관관계, 객체와 같은 패러다임의 불일치 문제를 해결한다

**단점**

- 성능 최적화나 복잡한 쿼리를 위해선 JPA만으로는 부족한 경우가 있다
- 잘못 사용하면 성능 문제가 생길 수 있다

---

### 패러다임의 불일치

```
패러다임의 불일치란 객체 지향 프로그래밍과 관계형 데이터베이스 간의 차이 때문에 발생하는 문제
```

- 객체 지향에서 자주 사용되는 상속이라는 개념이, 관계형 데이터베이스에서는 존재하지 않는다
- 객체에서는 연관된 객체를 참조하는 방식으로 연결되지만, 관계형 데이터베이스에서는 그렇지 않는다
- 객체는 상태로 식별되고, 데이터베이스는 기본 키로 식별어 두가지의 식별 방법이 다르다

**개발자가 JPA에 객체를 저장하게 되면 JPA는 이러한 문제들을 자동으로 해결해주어 개발자가 sql을 신경쓰지 않고 코드를 보다 객체 지향적으로 작성할 수 있게 해준다**

JPA의 주요 작업은 아래와 같다

- `엔티티와 테이블 매핑`  
  객체를 데이터베이스 테이블에 매핑시켜준다
- `연관관계 관리`  
  객체 간의 관계를 데이터베이스의 외래 키 관계로 변환해준다
- `상속 관계 매핑`  
  객체의 상속 관계를 데이터베이스 테이블 구조로 표현할 수 있게 도와준다

### Proxy패턴 이란

클라이언트가 타깃에 접근할 때, 타깃에 부가적인 기능을 부여하기 위하여
특정 객체에 대한 접근을 제어하거나, 기능을 구현하는데 사용하는 패턴을 말합니다
인터페이스를 선언하고, 그 인터페이스의 구현체를 재정의하는 방식으로 구현됩니다
위 과정을 통해 Proxy패턴은 개방폐쇠원칙, 단일책임원칙 등을 지킬 수 있다는 장점이 있지만, 코드의 복잡도가 증가하고 중복코드가 발생한다는 단점이 있어 자주 사용되지 않습니다

이때, CGLIB, JDK Proxy이란
프록시의 단점을 해결하기 위한 **동적프록시** 입니다

## Spring에서의 CGLIB, JDK Proxy

spring에서는 클라이언트가 메서드를 요청하면, ProxyFactoryBean에서 인터페이스의 유무를 확인하여 인터페이스가 있으면 JDK Proxy, 없으면 CGLIB방식으로 프록시를 생성합니다

### JDK Proxy

Java의 JDK에서 지원하는 프록시생성 방법입니다

- 외부 라이브러리에 의존하지 않음
- 런타임시 만들어짐
- 리플렉션을 사용하여 프록시팩토리에 인터페이스 정보만 제공하면 해당 인터페이스를 자동으로 구현하여 오브젝트를 생성함
- 인터페이스가 반드시 존재해야 함
- 리플렉션 api를 사용하기때문에 느림
- 부가기능을 추가히기 위해서는 ivoke 코드를 직접 구현해야 함

### CGLIB Proxy

프록시 팩토리에 의해 런타임 시 동적으로 오브젝트를 생성하는 프록시생성 방법입니다

- 클래스 상속을 이용하여 구현하기때문에, 인터페이스가 존재하지 않아도 가능
- JDK Proxy보다 3배 가까이 빠름
- 바이트코드를 조작해서 생성하고, 이후 호출시 재사용함(빠름)
- MethodInterceptor를 재정의한 intercept를 구현해야 부가 기능이 추가됨
- 디폴트 생성자와 의존성을 추가해야함
